<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Forever Valentine üíñ</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Parisienne&family=Poppins:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary-color: #e31b6d;
            --secondary-color: #ff99ac;
            --accent-color: #fff0f3;
            --text-color: #fff;
            --bg-gradient: linear-gradient(135deg, #2e001f 0%, #680026 100%);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-color);
            perspective: 1000px;
        }

        /* Particle Background */
        #particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            animation: float 10s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }

        /* Container Styles - MOBILE SCROLLABLE */
        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            padding: 2.5rem;
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            text-align: center;
            max-width: 90%;
            width: 600px;
            margin: 2rem auto;
            position: relative;
            transform-style: preserve-3d;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: none;
            flex-direction: column;
            align-items: center;
            max-height: 90vh;
            overflow-y: auto;
        }

        .container.active {
            display: flex;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-family: 'Parisienne', cursive;
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            color: var(--secondary-color);
            text-shadow: 0 0 15px rgba(227, 27, 109, 0.8);
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2.2rem !important;
            }
            .container {
                padding: 1rem !important;
                margin: 0.5rem !important;
                max-height: 95vh !important;
            }
        }

        p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            line-height: 1.7;
            color: #ddd;
        }

        /* Buttons */
        .btn {
            padding: 12px 35px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            margin: 10px;
            background: linear-gradient(45deg, #ff3366, #ff6b6b);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 51, 102, 0.4);
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 51, 102, 0.6);
        }

        /* Photo Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
            width: 100%;
        }

        .photo-card {
            background: white;
            padding: 10px 10px 25px 10px;
            border-radius: 2px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: rotate(-3deg);
            transition: transform 0.3s;
        }

        .photo-card:nth-child(even) {
            transform: rotate(3deg);
        }

        .photo-card:hover {
            transform: scale(1.05) rotate(0deg);
            z-index: 10;
        }

        .photo-card img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 2px;
        }

        /* Love Letter - SCROLLABLE */
        .letter-content {
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            text-align: left;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 25px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin: 10px 0;
            flex: 1;
            overflow-y: auto;
            max-height: 60vh;
            min-height: 200px;
        }

        .gujarati-bold {
            font-weight: bold !important;
            color: #e31b6d;
        }

        .cursor::after {
            content: '|';
            animation: blink 1s infinite;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* LETTER BUTTON AT TOP */
        #screen-letter .btn {
            order: -1;
            margin-bottom: 15px;
            width: 100%;
        }

        /* Proposal Buttons */
        .proposal-btns {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            height: auto;
            padding: 20px 0;
        }

        #noBtn {
            background: #4a4a4a;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Music Control - MOBILE VISIBLE */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.4);
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1000;
            font-size: 24px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .music-control:hover,
        .music-control:active {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1) rotate(360deg);
        }

        /* MOBILE FIXES */
        @media (max-width: 768px) {
            .letter-content {
                font-size: 1.3rem !important;
                max-height: 45vh !important;
                padding: 15px !important;
            }
            
            #screen-letter {
                padding: 1rem !important;
                justify-content: flex-start !important;
            }
            
            h1 {
                font-size: 2rem !important;
                margin-bottom: 0.5rem !important;
            }
            
            .btn {
                padding: 12px 25px !important;
                font-size: 1.1rem !important;
                width: 100%;
                max-width: 300px;
            }
            
            .music-control {
                bottom: 15px !important;
                right: 15px !important;
                width: 50px !important;
                height: 50px !important;
                font-size: 20px !important;
            }
        }
    </style>
</head>
<body>

    <div id="particles"></div>

    <!-- Screen 1: Intro -->
    <div class="container active" id="screen-intro">
        <h1>Hey Beautiful... ‚ú®</h1>
        <p>I have something special to show you.</p>
        <button class="btn" onclick="nextScreen('screen-gallery')">Start Journey ‚ù§Ô∏è</button>
    </div>

    <!-- Screen 2: Gallery -->
    <div class="container" id="screen-gallery">
        <h1>Our Memories üì∏</h1>
        <p>Every moment with you is a treasure.</p>
        <div class="gallery-grid">
            <div class="photo-card"><img src="img1.jpg" alt="Memory 1"></div>
            <div class="photo-card"><img src="img2.jpg" alt="Memory 2"></div>
            <div class="photo-card"><img src="img3.jpg" alt="Memory 3"></div>
            <div class="photo-card"><img src="img4.jpg" alt="Memory 4"></div>
        </div>
        <button class="btn" onclick="nextScreen('screen-letter')">Next -></button>
    </div>

    <!-- Screen 3: Letter (BUTTON AT TOP) -->
    <div class="container" id="screen-letter">
        <button class="btn" id="letter-next-btn" style="opacity: 0; pointer-events: none;" onclick="nextScreen('screen-proposal')">
            One Last Thing...
        </button>
        <h1>For You... üíå</h1>
        <div class="letter-content">
            <span id="typewriter-text"></span><span class="cursor"></span>
        </div>
    </div>

    <!-- Screen 4: Proposal -->
    <div class="container" id="screen-proposal">
        <h1>Will You Be My Valentine? üåπ</h1>
        <p>You are my sunshine, my joy, and my everything.</p>
        <div class="proposal-btns">
            <button class="btn" id="yesBtn" onclick="acceptProposal()">YES! üòç</button>
            <button class="btn" id="noBtn" onmouseover="dodgeButton()" ontouchstart="dodgeButton()">No üò¢</button>
        </div>
    </div>

    <!-- Screen 5: Celebration -->
    <div class="container" id="screen-celebration">
        <h1>I Knew It! üíñ</h1>
        <img src="https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif" alt="Celebration"
            style="width: 100%; border-radius: 10px; margin-bottom: 20px;">
        <p>I love you so much! ü•∞</p>
    </div>

    <!-- Audio -->
    <audio id="bgMusic" loop>
        <source src="dekha-hazaro-dafaa.mp3" type="audio/mp3">
    </audio>
    <div class="music-control" onclick="toggleMusic()">üéµ</div>

    <script>
        /* --- CONFIGURATION --- */
        const YOUR_EMAIL = "yatharthmbhatt90@gmail.com";

        const loveLetterText = "Dearest Love of my life, my eyes were created only to search for your beautiful face in every corner of this world, my ears were blessed just so they could melt at the sound of your sweet voice, ";
        const gujaratiText = "jevi ritna Radha Ji e emni drashti kholi hati tyare j jyare Bhagwan Shri Krishna Ji no janam thayo hato evi j ritna tamara aagman thi mari prem ni drashti khuli che";
        const restText = ", and just like that divine moment, your arrival awakened a love in me I never knew existed because of you, I am not the same person anymore‚Ä¶ you have transformed me, my heart, and my entire world into something magical and full of love. üíñ, I have a very important question...";
        
        /* --------------------- */

        // Particle System
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                p.style.left = Math.random() * 100 + 'vw';
                p.style.width = Math.random() * 10 + 5 + 'px';
                p.style.height = p.style.width;
                p.style.animationDuration = Math.random() * 10 + 10 + 's';
                p.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(p);
            }
        }
        createParticles();

        // Screen Navigation
        function nextScreen(targetId) {
            document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
            const target = document.getElementById(targetId);
            if (target) {
                target.classList.add('active');
            }

            if (targetId === 'screen-intro') playMusic();
            if (targetId === 'screen-letter') startTypewriter();
        }

        // Music Control
        const music = document.getElementById('bgMusic');
        let isPlaying = false;

        function toggleMusic() {
            if (!music) return;
            if (isPlaying) {
                music.pause();
                isPlaying = false;
            } else {
                music.play().then(() => {
                    isPlaying = true;
                }).catch(e => console.log("Auto-play blocked"));
            }
        }

        function playMusic() {
            if (!music || isPlaying) return;
            music.play().then(() => {
                isPlaying = true;
            }).catch(e => console.log("Auto-play blocked"));
        }

        // Typewriter Effect
        let charIndex = 0;
        let phase = 0;

        function startTypewriter() {
            const elem = document.getElementById('typewriter-text');
            if (!elem) return;
            elem.innerHTML = "";
            charIndex = 0;
            phase = 0;
            type();
        }

        function type() {
            let currentText = '';
            
            if (phase === 0 && charIndex < loveLetterText.length) {
                currentText = loveLetterText.charAt(charIndex);
                document.getElementById('typewriter-text').innerHTML += currentText;
                charIndex++;
                setTimeout(type, 50);
            } 
            else if (phase === 1 && charIndex < gujaratiText.length) {
                currentText = gujaratiText.charAt(charIndex);
                document.getElementById('typewriter-text').innerHTML += `<span class="gujarati-bold">${currentText}</span>`;
                charIndex++;
                setTimeout(type, 40);
            }
            else if (phase === 2 && charIndex < restText.length) {
                currentText = restText.charAt(charIndex);
                document.getElementById('typewriter-text').innerHTML += currentText;
                charIndex++;
                setTimeout(type, 50);
            }
            else {
                if (phase === 0) {
                    phase = 1;
                    charIndex = 0;
                    setTimeout(type, 300);
                } else if (phase === 1) {
                    phase = 2;
                    charIndex = 0;
                    setTimeout(type, 500);
                } else {
                    // Show button
                    const btn = document.getElementById('letter-next-btn');
                    if (btn) {
                        btn.style.opacity = '1';
                        btn.style.pointerEvents = 'auto';
                    }
                }
            }
        }

        // Dodge Button
        let dodgeCount = 0;
        function dodgeButton() {
            const btn = document.getElementById('noBtn');
            if (!btn || dodgeCount > 20) return;

            const phrases = [
                "No üò¢", "Are you sure?", "Really?", "Think again!",
                "Don't break my heart üíî", "Please? ü•∫", "Last chance!",
                "You can't say no!", "I'll give you cookies üç™", "But I love you! ‚ù§Ô∏è"
            ];

            const maxX = window.innerWidth - btn.offsetWidth - 20;
            const maxY = window.innerHeight - btn.offsetHeight - 20;
            const x = Math.random() * maxX + 10;
            const y = Math.random() * maxY + 10;

            btn.style.position = 'fixed';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
            btn.style.zIndex = '1000';
            btn.innerText = phrases[dodgeCount % phrases.length];
            dodgeCount++;
        }

        // Accept Proposal
        function acceptProposal() {
            nextScreen('screen-celebration');
            triggerConfetti();
            sendNotification();
        }

        function sendNotification() {
            fetch(`https://formsubmit.co/ajax/${YOUR_EMAIL}`, {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify({
                    subject: "SHE SAID YES! üíñ",
                    message: "Congratulations! Your Valentine accepted the proposal on your website! üíç‚ú®",
                    timestamp: new Date().toLocaleString()
                })
            })
            .then(response => response.json())
            .then(data => console.log("Email sent successfully", data))
            .catch(error => console.error("Error sending email", error));
        }

        // Confetti
        function triggerConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff'];
            for (let i = 0; i < 150; i++) {
                const confetti = document.createElement('div');
                confetti.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * 100}vw;
                    top: -10px;
                    width: 10px;
                    height: 10px;
                    background: ${colors[Math.floor(Math.random() * colors.length)]};
                    z-index: 1000;
                `;
                document.body.appendChild(confetti);

                confetti.animate([
                    { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
                    { transform: `translateY(100vh) rotate(${Math.random() * 720}deg)`, opacity: 0 }
                ], {
                    duration: Math.random() * 2000 + 3000,
                    easing: 'linear'
                });
            }
        }
    </script>
</body>
</html>
